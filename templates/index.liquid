<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/src/styles.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">  
  <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">

  <script>
document.addEventListener("DOMContentLoaded", () => {
  const productList = document.querySelectorAll(".product-card");
  const viewAllBtn = document.getElementById("viewAllBtn");

  // Mostrar solo 4 al inicio
  productList.forEach((card, index) => {
    if (index < 4) {
      card.classList.add("show"); // visibles
    } else {
      card.style.display = "none"; // ocultos
    }
  });

  let expanded = false; // estado: colapsado al inicio

  viewAllBtn.addEventListener("click", () => {
    if (!expanded) {
      // Mostrar todos los productos
      productList.forEach((card, index) => {
        if (index >= 4) {
          card.style.display = "block";
        }
      });

      // Animación en scroll solo para los nuevos
      const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add("show");
            obs.unobserve(entry.target);
          }
        });
      }, { threshold: 0.2 });

      productList.forEach((card, index) => {
        if (index >= 4) observer.observe(card);
      });

      // Cambiar a "VIEW LESS"
      viewAllBtn.textContent = "VIEW LESS";
      expanded = true;

    } else {
      // Ocultar de nuevo y dejar solo 4
      productList.forEach((card, index) => {
        if (index >= 4) {
          card.style.display = "none";
          card.classList.remove("show"); // quitar la animación por si se vuelve a abrir
        }
      });

      // Cambiar a "VIEW ALL"
      viewAllBtn.textContent = "VIEW ALL";
      expanded = false;

      // Hacer scroll arriba hacia la sección de productos
      document.querySelector(".featured-products").scrollIntoView({ behavior: "smooth" });
    }
  });
});



</script>


  <title>Shopify Simulator | Gradiweb</title>
</head>
<body>
  {% include 'tira.liquid' %}

  {% include 'header.liquid' %}

  {% include 'banner.liquid' %}

  {% include 'marquee.liquid' %}

  {% include 'featured-products.liquid' %}

  {% include 'lasted-collection.liquid' %}

  {% include 'footer.liquid' %}

  <script src="/main.js"></script>
  
</body>
</html>